{% load static %}

{% block css %}

<link rel="stylesheet" type="text/css" href="{% static 'css/plan_map.css' %}">




{% endblock css %}

<div class="lead text-center">
<h3>La carte de guide, cliquez sur le drapeau pour plus de précisions</h3>
</div>
    <div id="map"></div>


    <script type="text/javascript">
    	function initMap(){
    		var options = {
    			zoom:16,

    			 center : {lat:31.646208, lng:-7.994669}
    			}
    		var map = new google.maps.Map(document.getElementById("map"), options);


    		// // Listner for click on map

    		// google.maps.event.addListener(map, "click", function(event){
    		// 	addMarker({coords:event.latLng});

    		// });


    		var markers = [

    				{

    			coords:{lat:31.646208, lng:-7.994669},

    			content:"<h1>L'Ecole Saint-Exupéry est à l'annexe de HEEC</h1>",


    			},





    			];

    			//Loop throught markers

    			for(var i = 0; i< markers.length; i++){
    						//Call marker
    						addMarker(markers[i]);
    					};

    		//addMarker function

    		function addMarker(props){
    			var marker = new google.maps.Marker({
    				position:props.coords,
    				map:map,
    				// icon:props.iconImage,
    			});

    			//Check for customicon
    			if(props.iconImage){
    				//Set icon Image
    				marker.setIcon(props.iconImage);
    			}


    			//Check for infowindow
    			if(props.content){


		    		//Information
		    		var infoWindow = new google.maps.InfoWindow({
		    			content:props.content
		    		});

		    		marker.addListener("click", function(){
		    			infoWindow.open(map, marker);
		    		});

    			}
    		}
    	}
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCKVihXhKELOHreJa9O3vLVG45QoDhlX5Y&callback=initMap"
    async defer></script>